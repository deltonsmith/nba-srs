<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PowerIndex</title>
    <style>
        body {
            background-color: #111;
            color: white;
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
        }
        h1, h2 {
            color: white;
            margin-bottom: 10px;
        }
        select {
            padding: 8px;
            font-size: 16px;
            margin-bottom: 20px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 40px;
            background-color: #222;
        }
        th {
            background-color: #333;
            color: white;
            padding: 8px;
            text-align: left;
        }
        td {
            padding: 8px;
            border-top: 1px solid #444;
            color: white;
        }
        .rank {
            color: white;
            font-weight: bold;
        }
        .disclaimer {
            font-size: 12px;
            color: #bbb;
            margin-top: 5px;
        }
    </style>
</head>
<body>

<h1>NBA PowerIndex</h1>

<select id="seasonSelect">
    <option value="2026">2025-26 Season</option>
    <option value="2024">2023-24 Season</option>
</select>

<div id="tablesContainer"></div>

<script>
    const seasonFiles = {
        "2026": "ratings_2026.json",
        "2024": "ratings_2024.json"
    };

    const seasonTitles = {
        "2026": "2025-26 Rankings",
        "2024": "2023-24 Rankings"
    };

    const teamNames = {
        ATL: "Atlanta Hawks",
        BOS: "Boston Celtics",
        BKN: "Brooklyn Nets",
        CHA: "Charlotte Hornets",
        CHI: "Chicago Bulls",
        CLE: "Cleveland Cavaliers",
        DAL: "Dallas Mavericks",
        DEN: "Denver Nuggets",
        DET: "Detroit Pistons",
        GSW: "Golden State Warriors",
        HOU: "Houston Rockets",
        IND: "Indiana Pacers",
        LAC: "LA Clippers",
        LAL: "Los Angeles Lakers",
        MEM: "Memphis Grizzlies",
        MIA: "Miami Heat",
        MIL: "Milwaukee Bucks",
        MIN: "Minnesota Timberwolves",
        NOP: "New Orleans Pelicans",
        NYK: "New York Knicks",
        OKC: "Oklahoma City Thunder",
        ORL: "Orlando Magic",
        PHI: "Philadelphia 76ers",
        PHX: "Phoenix Suns",
        POR: "Portland Trail Blazers",
        SAC: "Sacramento Kings",
        SAS: "San Antonio Spurs",
        TOR: "Toronto Raptors",
        UTA: "Utah Jazz",
        WAS: "Washington Wizards"
    };

    function loadSeason(season) {
        const file = seasonFiles[season];

        fetch(file)
            .then(response => response.json())
            .then(data => {
                renderTables(season, data);
            });
    }

    function renderTables(season, data) {
        const container = document.getElementById("tablesContainer");
        container.innerHTML = "";

        const title = document.createElement("h2");
        title.textContent = seasonTitles[season];
        container.appendChild(title);

        const table = document.createElement("table");

        table.innerHTML = `
            <tr>
                <th>Rank</th>
                <th>Team</th>
                <th>Rating</th>
                <th>Offense</th>
                <th>Defense</th>
            </tr>
        `;

        data.forEach((t, index) => {
            const row = document.createElement("tr");
            row.innerHTML = `
                <td class="rank">${index + 1}</td>
                <td>${teamNames[t.team] || t.team}</td>
                <td>${t.rating}</td>
                <td>${t.off}</td>
                <td>${t.def}</td>
            `;
            table.appendChild(row);
        });

        container.appendChild(table);

        const disclaimer = document.createElement("div");
        disclaimer.className = "disclaimer";
        disclaimer.textContent =
            "Index reflects relative team performance using weighted efficiency components. Exact methodology is proprietary.";
        container.appendChild(disclaimer);
    }

    document.getElementById("seasonSelect").addEventListener("change", (e) => {
        loadSeason(e.target.value);
    });

    loadSeason("2026");
</script>

</body>
</html>
